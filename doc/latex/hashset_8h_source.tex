\hypertarget{hashset_8h_source}{}\doxysection{hashset.\+h}
\label{hashset_8h_source}\index{src/hashset.h@{src/hashset.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef HASHSET\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define HASHSET\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include "{}utils.h"{}}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}vector.h"{}}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <stdio.h>}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{comment}{// Hashset}}
\DoxyCodeLine{9 \textcolor{comment}{/*\#define DefHashset(type, hashfunc, freefunc) \(\backslash\)}}
\DoxyCodeLine{10 \textcolor{comment}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{11 \textcolor{comment}{    DefVector(type, freefunc)                                                                                          \(\backslash\)}}
\DoxyCodeLine{12 \textcolor{comment}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{13 \textcolor{comment}{        typedef struct T\_\#\#type\#\#Hashset \{                                                                             \(\backslash\)}}
\DoxyCodeLine{14 \textcolor{comment}{        type\#\#Vector* buckets;                                                                                         \(\backslash\)}}
\DoxyCodeLine{15 \textcolor{comment}{        size\_t capacity;                                                                                               \(\backslash\)}}
\DoxyCodeLine{16 \textcolor{comment}{    \} type\#\#Hashset;                                                                                                   \(\backslash\)}}
\DoxyCodeLine{17 \textcolor{comment}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{18 \textcolor{comment}{    static type\#\#Hashset type\#\#Hashset\_with\_capacity(size\_t capacity) \{                                                \(\backslash\)}}
\DoxyCodeLine{19 \textcolor{comment}{        type\#\#Hashset s = \{.buckets = (type\#\#Vector*)malloc(sizeof(type\#\#Vector) * capacity), .capacity = capacity\};   \(\backslash\)}}
\DoxyCodeLine{20 \textcolor{comment}{        for (size\_t i = 0; i < capacity; i++) \{                                                                        \(\backslash\)}}
\DoxyCodeLine{21 \textcolor{comment}{            s.buckets[i] = type\#\#Vector\_with\_capacity(10);                                                             \(\backslash\)}}
\DoxyCodeLine{22 \textcolor{comment}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{23 \textcolor{comment}{        return s;                                                                                                      \(\backslash\)}}
\DoxyCodeLine{24 \textcolor{comment}{    \}                                                                                                                  \(\backslash\)}}
\DoxyCodeLine{25 \textcolor{comment}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{26 \textcolor{comment}{    static void type\#\#Hashset\_destroy(type\#\#Hashset s) \{                                                               \(\backslash\)}}
\DoxyCodeLine{27 \textcolor{comment}{        for (size\_t i = 0; i < s.capacity; i++) \{                                                                      \(\backslash\)}}
\DoxyCodeLine{28 \textcolor{comment}{            type\#\#Vector\_destroy(s.buckets[i]);                                                                        \(\backslash\)}}
\DoxyCodeLine{29 \textcolor{comment}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{30 \textcolor{comment}{        free(s.buckets);                                                                                               \(\backslash\)}}
\DoxyCodeLine{31 \textcolor{comment}{    \}                                                                                                                  \(\backslash\)}}
\DoxyCodeLine{32 \textcolor{comment}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{33 \textcolor{comment}{    static bool type\#\#Hashset\_insert(type\#\#Hashset* s, type value) \{                                                   \(\backslash\)}}
\DoxyCodeLine{34 \textcolor{comment}{        size\_t index = hashfunc(value) \% s-\/>capacity;                                                                  \(\backslash\)}}
\DoxyCodeLine{35 \textcolor{comment}{        for (size\_t i = 0; i < s-\/>buckets[index].size; i++) \{                                                          \(\backslash\)}}
\DoxyCodeLine{36 \textcolor{comment}{            if (type\#\#\_equals(s-\/>buckets[index].array[i], value)) \{                                                    \(\backslash\)}}
\DoxyCodeLine{37 \textcolor{comment}{                return false;                                                                                          \(\backslash\)}}
\DoxyCodeLine{38 \textcolor{comment}{            \}                                                                                                          \(\backslash\)}}
\DoxyCodeLine{39 \textcolor{comment}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{40 \textcolor{comment}{        type\#\#Vector\_push(\&s-\/>buckets[index], value);                                                                  \(\backslash\)}}
\DoxyCodeLine{41 \textcolor{comment}{        return true;                                                                                                   \(\backslash\)}}
\DoxyCodeLine{42 \textcolor{comment}{    \}                                                                                                                  \(\backslash\)}}
\DoxyCodeLine{43 \textcolor{comment}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{44 \textcolor{comment}{    static bool type\#\#Hashset\_contains(type\#\#Hashset s, type value) \{                                                  \(\backslash\)}}
\DoxyCodeLine{45 \textcolor{comment}{        size\_t index = hashfunc(value) \% s.capacity;                                                                   \(\backslash\)}}
\DoxyCodeLine{46 \textcolor{comment}{        for (size\_t i = 0; i < s.buckets[index].size; i++) \{                                                           \(\backslash\)}}
\DoxyCodeLine{47 \textcolor{comment}{            if (type\#\#\_equals(s.buckets[index].array[i], value)) \{                                                     \(\backslash\)}}
\DoxyCodeLine{48 \textcolor{comment}{                return true;                                                                                           \(\backslash\)}}
\DoxyCodeLine{49 \textcolor{comment}{            \}                                                                                                          \(\backslash\)}}
\DoxyCodeLine{50 \textcolor{comment}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{51 \textcolor{comment}{        return false;                                                                                                  \(\backslash\)}}
\DoxyCodeLine{52 \textcolor{comment}{    \}                                                                                                                  \(\backslash\)}}
\DoxyCodeLine{53 \textcolor{comment}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{54 \textcolor{comment}{    static type* type\#\#Hashset\_find(type\#\#Hashset s, type value) \{                                                     \(\backslash\)}}
\DoxyCodeLine{55 \textcolor{comment}{        size\_t index = hashfunc(value) \% s.capacity;                                                                   \(\backslash\)}}
\DoxyCodeLine{56 \textcolor{comment}{        for (size\_t i = 0; i < s.buckets[index].size; i++) \{                                                           \(\backslash\)}}
\DoxyCodeLine{57 \textcolor{comment}{            if (type\#\#\_equals(s.buckets[index].array[i], value)) \{                                                     \(\backslash\)}}
\DoxyCodeLine{58 \textcolor{comment}{                return \&s.buckets[index].array[i];                                                                     \(\backslash\)}}
\DoxyCodeLine{59 \textcolor{comment}{            \}                                                                                                          \(\backslash\)}}
\DoxyCodeLine{60 \textcolor{comment}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{61 \textcolor{comment}{        return NULL;                                                                                                   \(\backslash\)}}
\DoxyCodeLine{62 \textcolor{comment}{    \}                                                                                                                  \(\backslash\)}}
\DoxyCodeLine{63 \textcolor{comment}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{64 \textcolor{comment}{    static bool type\#\#Hashset\_remove(type\#\#Hashset* s, type value) \{                                                   \(\backslash\)}}
\DoxyCodeLine{65 \textcolor{comment}{        size\_t index = hashfunc(value) \% s-\/>capacity;                                                                  \(\backslash\)}}
\DoxyCodeLine{66 \textcolor{comment}{        for (size\_t i = 0; i < s-\/>buckets[index].size; i++) \{                                                          \(\backslash\)}}
\DoxyCodeLine{67 \textcolor{comment}{            if (type\#\#\_equals(s-\/>buckets[index].array[i], value)) \{                                                    \(\backslash\)}}
\DoxyCodeLine{68 \textcolor{comment}{                type\#\#Vector\_remove\_and\_swap(\&s-\/>buckets[index], i);                                                   \(\backslash\)}}
\DoxyCodeLine{69 \textcolor{comment}{                return true;                                                                                           \(\backslash\)}}
\DoxyCodeLine{70 \textcolor{comment}{            \}                                                                                                          \(\backslash\)}}
\DoxyCodeLine{71 \textcolor{comment}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{72 \textcolor{comment}{        return false;                                                                                                  \(\backslash\)}}
\DoxyCodeLine{73 \textcolor{comment}{    \}                                                                                                                  \(\backslash\)}}
\DoxyCodeLine{74 \textcolor{comment}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{75 \textcolor{comment}{    static void type\#\#Hashset\_print\_debug(type\#\#Hashset* s) \{                                                          \(\backslash\)}}
\DoxyCodeLine{76 \textcolor{comment}{        for (size\_t i = 0; i < s-\/>capacity; i++) \{                                                                     \(\backslash\)}}
\DoxyCodeLine{77 \textcolor{comment}{            printf("{}\%ld: (capacity : \%ld, size : \%ld)"{}, i, s-\/>buckets[i].capacity, s-\/>buckets[i].size);                \(\backslash\)}}
\DoxyCodeLine{78 \textcolor{comment}{            for (size\_t j = 0; j < s-\/>buckets[i].size; j++) \{                                                          \(\backslash\)}}
\DoxyCodeLine{79 \textcolor{comment}{                char* str = type\#\#\_to\_string(\&s-\/>buckets[i].array[j]);                                                 \(\backslash\)}}
\DoxyCodeLine{80 \textcolor{comment}{                printf("{} \%s"{}, str);                                                                                    \(\backslash\)}}
\DoxyCodeLine{81 \textcolor{comment}{                free(str);                                                                                             \(\backslash\)}}
\DoxyCodeLine{82 \textcolor{comment}{            \}                                                                                                          \(\backslash\)}}
\DoxyCodeLine{83 \textcolor{comment}{            printf("{}\(\backslash\)n"{});                                                                                              \(\backslash\)}}
\DoxyCodeLine{84 \textcolor{comment}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{85 \textcolor{comment}{    \}                                                                                                                  \(\backslash\)}}
\DoxyCodeLine{86 \textcolor{comment}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{87 \textcolor{comment}{    static void type\#\#Hashset\_print(type\#\#Hashset* s) \{                                                                \(\backslash\)}}
\DoxyCodeLine{88 \textcolor{comment}{        for (size\_t i = 0; i < s-\/>capacity; i++) \{                                                                     \(\backslash\)}}
\DoxyCodeLine{89 \textcolor{comment}{            if (s-\/>buckets[i].size == 0) \{                                                                             \(\backslash\)}}
\DoxyCodeLine{90 \textcolor{comment}{                continue;                                                                                              \(\backslash\)}}
\DoxyCodeLine{91 \textcolor{comment}{            \}                                                                                                          \(\backslash\)}}
\DoxyCodeLine{92 \textcolor{comment}{            for (size\_t j = 0; j < s-\/>buckets[i].size; j++) \{                                                          \(\backslash\)}}
\DoxyCodeLine{93 \textcolor{comment}{                char* str = type\#\#\_to\_string(\&s-\/>buckets[i].array[j]);                                                 \(\backslash\)}}
\DoxyCodeLine{94 \textcolor{comment}{                printf("{}\%s "{}, str);                                                                                    \(\backslash\)}}
\DoxyCodeLine{95 \textcolor{comment}{                free(str);                                                                                             \(\backslash\)}}
\DoxyCodeLine{96 \textcolor{comment}{            \}                                                                                                          \(\backslash\)}}
\DoxyCodeLine{97 \textcolor{comment}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{98 \textcolor{comment}{        printf("{}\(\backslash\)n"{});                                                                                                  \(\backslash\)}}
\DoxyCodeLine{99 \textcolor{comment}{    \}                                                                                                                  \(\backslash\)}}
\DoxyCodeLine{100 \textcolor{comment}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{101 \textcolor{comment}{    static char* type\#\#Hashset\_to\_string(type\#\#Hashset* s) \{                                                           \(\backslash\)}}
\DoxyCodeLine{102 \textcolor{comment}{        char* str = (char*)malloc(1);                                                                                  \(\backslash\)}}
\DoxyCodeLine{103 \textcolor{comment}{        str[0] = '\(\backslash\)0';                                                                                                 \(\backslash\)}}
\DoxyCodeLine{104 \textcolor{comment}{        for (size\_t i = 0; i < s-\/>capacity; i++) \{                                                                     \(\backslash\)}}
\DoxyCodeLine{105 \textcolor{comment}{            if (s-\/>buckets[i].size == 0) \{                                                                             \(\backslash\)}}
\DoxyCodeLine{106 \textcolor{comment}{                continue;                                                                                              \(\backslash\)}}
\DoxyCodeLine{107 \textcolor{comment}{            \}                                                                                                          \(\backslash\)}}
\DoxyCodeLine{108 \textcolor{comment}{            for (size\_t j = 0; j < s-\/>buckets[i].size; j++) \{                                                          \(\backslash\)}}
\DoxyCodeLine{109 \textcolor{comment}{                char* str2 = type\#\#\_to\_string(\&s-\/>buckets[i].array[j]);                                                \(\backslash\)}}
\DoxyCodeLine{110 \textcolor{comment}{                str = (char*)realloc(str, strlen(str) + strlen(str2) + 2);                                             \(\backslash\)}}
\DoxyCodeLine{111 \textcolor{comment}{                strcat(str, str2);                                                                                     \(\backslash\)}}
\DoxyCodeLine{112 \textcolor{comment}{                strcat(str, "{} "{});                                                                                      \(\backslash\)}}
\DoxyCodeLine{113 \textcolor{comment}{                free(str2);                                                                                            \(\backslash\)}}
\DoxyCodeLine{114 \textcolor{comment}{            \}                                                                                                          \(\backslash\)}}
\DoxyCodeLine{115 \textcolor{comment}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{116 \textcolor{comment}{        return str;                                                                                                    \(\backslash\)}}
\DoxyCodeLine{117 \textcolor{comment}{    \}                                                                                                                  \(\backslash\)}}
\DoxyCodeLine{118 \textcolor{comment}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{119 \textcolor{comment}{    static size\_t type\#\#Hashset\_size(type\#\#Hashset* s) \{                                                               \(\backslash\)}}
\DoxyCodeLine{120 \textcolor{comment}{        size\_t size = 0;                                                                                               \(\backslash\)}}
\DoxyCodeLine{121 \textcolor{comment}{        for (size\_t i = 0; i < s-\/>capacity; i++) \{                                                                     \(\backslash\)}}
\DoxyCodeLine{122 \textcolor{comment}{            size += s-\/>buckets[i].size;                                                                                \(\backslash\)}}
\DoxyCodeLine{123 \textcolor{comment}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{124 \textcolor{comment}{        return size;                                                                                                   \(\backslash\)}}
\DoxyCodeLine{125 \textcolor{comment}{    \}*/}}
\DoxyCodeLine{126 }
\DoxyCodeLine{127 \textcolor{preprocessor}{\#define DeclareHashset(type)                                                                                           \(\backslash\)}}
\DoxyCodeLine{128 \textcolor{preprocessor}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{129 \textcolor{preprocessor}{    typedef struct T\_\#\#type\#\#Hashset \{                                                                                 \(\backslash\)}}
\DoxyCodeLine{130 \textcolor{preprocessor}{        type\#\#Vector* buckets;                                                                                         \(\backslash\)}}
\DoxyCodeLine{131 \textcolor{preprocessor}{        size\_t capacity;                                                                                               \(\backslash\)}}
\DoxyCodeLine{132 \textcolor{preprocessor}{    \} type\#\#Hashset;                                                                                                   \(\backslash\)}}
\DoxyCodeLine{133 \textcolor{preprocessor}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{134 \textcolor{preprocessor}{    type\#\#Hashset type\#\#Hashset\_with\_capacity(size\_t capacity);                                                        \(\backslash\)}}
\DoxyCodeLine{135 \textcolor{preprocessor}{    bool type\#\#Hashset\_insert(type\#\#Hashset* s, type value);                                                           \(\backslash\)}}
\DoxyCodeLine{136 \textcolor{preprocessor}{    bool type\#\#Hashset\_contains(type\#\#Hashset s, type value);                                                          \(\backslash\)}}
\DoxyCodeLine{137 \textcolor{preprocessor}{    size\_t type\#\#Hashset\_nb\_elems(type\#\#Hashset* s);}}
\DoxyCodeLine{138 }
\DoxyCodeLine{139 \textcolor{preprocessor}{\#define DefineHashset(type)                                                                                            \(\backslash\)}}
\DoxyCodeLine{140 \textcolor{preprocessor}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{141 \textcolor{preprocessor}{    type\#\#Hashset type\#\#Hashset\_with\_capacity(size\_t capacity) \{                                                       \(\backslash\)}}
\DoxyCodeLine{142 \textcolor{preprocessor}{        type\#\#Hashset s = \{.buckets = (type\#\#Vector*)malloc(sizeof(type\#\#Vector) * capacity), .capacity = capacity\};   \(\backslash\)}}
\DoxyCodeLine{143 \textcolor{preprocessor}{        for (size\_t i = 0; i < capacity; i++) \{                                                                        \(\backslash\)}}
\DoxyCodeLine{144 \textcolor{preprocessor}{            s.buckets[i] = type\#\#Vector\_with\_capacity(10);                                                             \(\backslash\)}}
\DoxyCodeLine{145 \textcolor{preprocessor}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{146 \textcolor{preprocessor}{        return s;                                                                                                      \(\backslash\)}}
\DoxyCodeLine{147 \textcolor{preprocessor}{    \}                                                                                                                  \(\backslash\)}}
\DoxyCodeLine{148 \textcolor{preprocessor}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{149 \textcolor{preprocessor}{    bool type\#\#Hashset\_insert(type\#\#Hashset* s, type value) \{                                                          \(\backslash\)}}
\DoxyCodeLine{150 \textcolor{preprocessor}{        size\_t index = type\#\#\_hash(\&value) \% s-\/>capacity;                                                              \(\backslash\)}}
\DoxyCodeLine{151 \textcolor{preprocessor}{        for (size\_t i = 0; i < s-\/>buckets[index].size; i++) \{                                                          \(\backslash\)}}
\DoxyCodeLine{152 \textcolor{preprocessor}{            if (type\#\#\_equals(\&s-\/>buckets[index].array[i], \&value)) \{                                                  \(\backslash\)}}
\DoxyCodeLine{153 \textcolor{preprocessor}{                return false;                                                                                          \(\backslash\)}}
\DoxyCodeLine{154 \textcolor{preprocessor}{            \}                                                                                                          \(\backslash\)}}
\DoxyCodeLine{155 \textcolor{preprocessor}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{156 \textcolor{preprocessor}{        type\#\#Vector\_push(\&s-\/>buckets[index], value);                                                                  \(\backslash\)}}
\DoxyCodeLine{157 \textcolor{preprocessor}{        return true;                                                                                                   \(\backslash\)}}
\DoxyCodeLine{158 \textcolor{preprocessor}{    \}                                                                                                                  \(\backslash\)}}
\DoxyCodeLine{159 \textcolor{preprocessor}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{160 \textcolor{preprocessor}{    bool type\#\#Hashset\_contains(type\#\#Hashset s, type value) \{                                                         \(\backslash\)}}
\DoxyCodeLine{161 \textcolor{preprocessor}{        size\_t index = type\#\#\_hash(\&value) \% s.capacity;                                                               \(\backslash\)}}
\DoxyCodeLine{162 \textcolor{preprocessor}{        for (size\_t i = 0; i < s.buckets[index].size; i++) \{                                                           \(\backslash\)}}
\DoxyCodeLine{163 \textcolor{preprocessor}{            if (type\#\#\_equals(\&s.buckets[index].array[i], \&value)) \{                                                   \(\backslash\)}}
\DoxyCodeLine{164 \textcolor{preprocessor}{                return true;                                                                                           \(\backslash\)}}
\DoxyCodeLine{165 \textcolor{preprocessor}{            \}                                                                                                          \(\backslash\)}}
\DoxyCodeLine{166 \textcolor{preprocessor}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{167 \textcolor{preprocessor}{        return false;                                                                                                  \(\backslash\)}}
\DoxyCodeLine{168 \textcolor{preprocessor}{    \}                                                                                                                  \(\backslash\)}}
\DoxyCodeLine{169 \textcolor{preprocessor}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{170 \textcolor{preprocessor}{    size\_t type\#\#Hashset\_nb\_elems(type\#\#Hashset* s) \{                                                                  \(\backslash\)}}
\DoxyCodeLine{171 \textcolor{preprocessor}{        size\_t size = 0;                                                                                               \(\backslash\)}}
\DoxyCodeLine{172 \textcolor{preprocessor}{        for (size\_t i = 0; i < s-\/>capacity; i++) \{                                                                     \(\backslash\)}}
\DoxyCodeLine{173 \textcolor{preprocessor}{            size += s-\/>buckets[i].size;                                                                                \(\backslash\)}}
\DoxyCodeLine{174 \textcolor{preprocessor}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{175 \textcolor{preprocessor}{        return size;                                                                                                   \(\backslash\)}}
\DoxyCodeLine{176 \textcolor{preprocessor}{    \}                                                                                                                  \(\backslash\)}}
\DoxyCodeLine{177 \textcolor{preprocessor}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{178 \textcolor{preprocessor}{    const type* type\#\#Hashset\_find(type\#\#Hashset s, type value) \{                                                      \(\backslash\)}}
\DoxyCodeLine{179 \textcolor{preprocessor}{        size\_t index = type\#\#\_hash(\&value) \% s.capacity;                                                               \(\backslash\)}}
\DoxyCodeLine{180 \textcolor{preprocessor}{        for (size\_t i = 0; i < s.buckets[index].size; i++) \{                                                           \(\backslash\)}}
\DoxyCodeLine{181 \textcolor{preprocessor}{            if (type\#\#\_equals(\&s.buckets[index].array[i], \&value)) \{                                                   \(\backslash\)}}
\DoxyCodeLine{182 \textcolor{preprocessor}{                return \&s.buckets[index].array[i];                                                                     \(\backslash\)}}
\DoxyCodeLine{183 \textcolor{preprocessor}{            \}                                                                                                          \(\backslash\)}}
\DoxyCodeLine{184 \textcolor{preprocessor}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{185 \textcolor{preprocessor}{        return NULL;                                                                                                   \(\backslash\)}}
\DoxyCodeLine{186 \textcolor{preprocessor}{    \}}}
\DoxyCodeLine{187 }
\DoxyCodeLine{188 \textcolor{comment}{// DeclareVectorDeriveEquals(type)}}
\DoxyCodeLine{189 \textcolor{comment}{// DeclareVectorDeriveCompare(type)}}
\DoxyCodeLine{190 \textcolor{comment}{// DeclareVectorDeriveToString(type)}}
\DoxyCodeLine{191 \textcolor{comment}{// DeclareVectorDeriveRemove(type, free\_fn)}}
\DoxyCodeLine{192 \textcolor{preprocessor}{\#define DeclareHashsetDeriveRemove(type)                                                                               \(\backslash\)}}
\DoxyCodeLine{193 \textcolor{preprocessor}{    void type\#\#Hashset\_destroy(type\#\#Hashset s);                                                                       \(\backslash\)}}
\DoxyCodeLine{194 \textcolor{preprocessor}{    bool type\#\#Hashset\_remove(type\#\#Hashset* s, type value);                                                           \(\backslash\)}}
\DoxyCodeLine{195 \textcolor{preprocessor}{    void type\#\#Hashset\_clear(type\#\#Hashset* s);}}
\DoxyCodeLine{196 }
\DoxyCodeLine{197 \textcolor{preprocessor}{\#define DefineHashsetDeriveRemove(type, free\_fn)                                                                       \(\backslash\)}}
\DoxyCodeLine{198 \textcolor{preprocessor}{    void type\#\#Hashset\_destroy(type\#\#Hashset s) \{                                                                      \(\backslash\)}}
\DoxyCodeLine{199 \textcolor{preprocessor}{        for (size\_t i = 0; i < s.capacity; i++) \{                                                                      \(\backslash\)}}
\DoxyCodeLine{200 \textcolor{preprocessor}{            type\#\#Vector\_destroy(s.buckets[i]);                                                                        \(\backslash\)}}
\DoxyCodeLine{201 \textcolor{preprocessor}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{202 \textcolor{preprocessor}{        free(s.buckets);                                                                                               \(\backslash\)}}
\DoxyCodeLine{203 \textcolor{preprocessor}{    \}                                                                                                                  \(\backslash\)}}
\DoxyCodeLine{204 \textcolor{preprocessor}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{205 \textcolor{preprocessor}{    bool type\#\#Hashset\_remove(type\#\#Hashset* s, type value) \{                                                          \(\backslash\)}}
\DoxyCodeLine{206 \textcolor{preprocessor}{        size\_t index = type\#\#\_hash(\&value) \% s-\/>capacity;                                                              \(\backslash\)}}
\DoxyCodeLine{207 \textcolor{preprocessor}{        for (size\_t i = 0; i < s-\/>buckets[index].size; i++) \{                                                          \(\backslash\)}}
\DoxyCodeLine{208 \textcolor{preprocessor}{            if (type\#\#\_equals(\&s-\/>buckets[index].array[i], \&value)) \{                                                  \(\backslash\)}}
\DoxyCodeLine{209 \textcolor{preprocessor}{                type\#\#Vector\_remove\_and\_swap(\&s-\/>buckets[index], i);                                                   \(\backslash\)}}
\DoxyCodeLine{210 \textcolor{preprocessor}{                return true;                                                                                           \(\backslash\)}}
\DoxyCodeLine{211 \textcolor{preprocessor}{            \}                                                                                                          \(\backslash\)}}
\DoxyCodeLine{212 \textcolor{preprocessor}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{213 \textcolor{preprocessor}{        return false;                                                                                                  \(\backslash\)}}
\DoxyCodeLine{214 \textcolor{preprocessor}{    \}                                                                                                                  \(\backslash\)}}
\DoxyCodeLine{215 \textcolor{preprocessor}{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{216 \textcolor{preprocessor}{    void type\#\#Hashset\_clear(type\#\#Hashset* s) \{                                                                       \(\backslash\)}}
\DoxyCodeLine{217 \textcolor{preprocessor}{        for (size\_t i = 0; i < s-\/>capacity; i++) \{                                                                     \(\backslash\)}}
\DoxyCodeLine{218 \textcolor{preprocessor}{            type\#\#Vector\_clear(\&s-\/>buckets[i]);                                                                        \(\backslash\)}}
\DoxyCodeLine{219 \textcolor{preprocessor}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{220 \textcolor{preprocessor}{    \}}}
\DoxyCodeLine{221 }
\DoxyCodeLine{222 \textcolor{preprocessor}{\#define DeclareHashsetDeriveToString(type) String type\#\#Hashset\_to\_string(const type\#\#Hashset* s);}}
\DoxyCodeLine{223 \textcolor{preprocessor}{\#define DefineHashsetDeriveToString(type)                                                                              \(\backslash\)}}
\DoxyCodeLine{224 \textcolor{preprocessor}{    String type\#\#Hashset\_to\_string(const type\#\#Hashset* s) \{                                                           \(\backslash\)}}
\DoxyCodeLine{225 \textcolor{preprocessor}{        String str = String\_from\_duplicate("{}\{ "{}});                                                                      \(\backslash\)}
\DoxyCodeLine{226         for (size\_t i = 0; i < s-\/>capacity; i++) \{                                                                     \(\backslash\)}
\DoxyCodeLine{227             if (s-\/>buckets[i].size == 0) \{                                                                             \(\backslash\)}
\DoxyCodeLine{228                 continue;                                                                                              \(\backslash\)}
\DoxyCodeLine{229             \}                                                                                                          \(\backslash\)}
\DoxyCodeLine{230             for (size\_t j = 0; j < s-\/>buckets[i].size; j++) \{                                                          \(\backslash\)}
\DoxyCodeLine{231                 String str2 = type\#\#\_to\_string(\&s-\/>buckets[i].array[j]);                                               \(\backslash\)}
\DoxyCodeLine{232                 String\_concat\_copy(\&str, \&str2);                                                                       \(\backslash\)}
\DoxyCodeLine{233                 String\_push(\&str, ' ');                                                                                \(\backslash\)}
\DoxyCodeLine{234                 String\_destroy(str2);                                                                                  \(\backslash\)}
\DoxyCodeLine{235             \}                                                                                                          \(\backslash\)}
\DoxyCodeLine{236         \}                                                                                                              \(\backslash\)}
\DoxyCodeLine{237         String\_push(\&str, '\}');                                                                                        \(\backslash\)}
\DoxyCodeLine{238         return str;                                                                                                    \(\backslash\)}
\DoxyCodeLine{239     \}}
\DoxyCodeLine{240 }
\DoxyCodeLine{241 \textcolor{preprocessor}{\#define DeclareHashsetDeriveEquals(type) bool type\#\#Hashset\_equals(type\#\#Hashset* a, type\#\#Hashset* b);}}
\DoxyCodeLine{242 \textcolor{preprocessor}{\#define DefineHashsetDeriveEquals(type)                                                                                \(\backslash\)}}
\DoxyCodeLine{243 \textcolor{preprocessor}{    bool type\#\#Hashset\_equals(type\#\#Hashset* a, type\#\#Hashset* b) \{                                                    \(\backslash\)}}
\DoxyCodeLine{244 \textcolor{preprocessor}{        for (size\_t i = 0; i < a-\/>capacity; i++) \{                                                                     \(\backslash\)}}
\DoxyCodeLine{245 \textcolor{preprocessor}{            for (size\_t j = 0; j < a-\/>buckets[i].size; j++) \{                                                          \(\backslash\)}}
\DoxyCodeLine{246 \textcolor{preprocessor}{                if (!type\#\#Hashset\_contains(*b, a-\/>buckets[i].array[j])) \{                                             \(\backslash\)}}
\DoxyCodeLine{247 \textcolor{preprocessor}{                    return false;                                                                                      \(\backslash\)}}
\DoxyCodeLine{248 \textcolor{preprocessor}{                \}                                                                                                      \(\backslash\)}}
\DoxyCodeLine{249 \textcolor{preprocessor}{            \}                                                                                                          \(\backslash\)}}
\DoxyCodeLine{250 \textcolor{preprocessor}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{251 \textcolor{preprocessor}{        for (size\_t i = 0; i < b-\/>capacity; i++) \{                                                                     \(\backslash\)}}
\DoxyCodeLine{252 \textcolor{preprocessor}{            for (size\_t j = 0; j < b-\/>buckets[i].size; j++) \{                                                          \(\backslash\)}}
\DoxyCodeLine{253 \textcolor{preprocessor}{                if (!type\#\#Hashset\_contains(*a, b-\/>buckets[i].array[j])) \{                                             \(\backslash\)}}
\DoxyCodeLine{254 \textcolor{preprocessor}{                    return false;                                                                                      \(\backslash\)}}
\DoxyCodeLine{255 \textcolor{preprocessor}{                \}                                                                                                      \(\backslash\)}}
\DoxyCodeLine{256 \textcolor{preprocessor}{            \}                                                                                                          \(\backslash\)}}
\DoxyCodeLine{257 \textcolor{preprocessor}{        \}                                                                                                              \(\backslash\)}}
\DoxyCodeLine{258 \textcolor{preprocessor}{        return true;                                                                                                   \(\backslash\)}}
\DoxyCodeLine{259 \textcolor{preprocessor}{    \}}}
\DoxyCodeLine{260 }
\DoxyCodeLine{261 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// HASHSET\_H}}

\end{DoxyCode}
