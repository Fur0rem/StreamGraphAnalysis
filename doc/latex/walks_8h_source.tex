\hypertarget{walks_8h_source}{}\doxysection{walks.\+h}
\label{walks_8h_source}\index{src/walks.h@{src/walks.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef WALK\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define WALK\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include "{}interval.h"{}}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}stream.h"{}}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include "{}units.h"{}}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include "{}utils.h"{}}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}vector.h"{}}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <stdbool.h>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <stddef.h>}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{comment}{// Forward declaration of TreeNode since it's used in TreeEdge before its full definition.}}
\DoxyCodeLine{13 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\mbox{\hyperlink{structTreeNode}{TreeNode}} \mbox{\hyperlink{structTreeNode}{TreeNode}};}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{16     \textcolor{keywordtype}{size\_t} weight;}
\DoxyCodeLine{17     \mbox{\hyperlink{structTreeNode}{TreeNode}}* child; \textcolor{comment}{// Use a pointer to TreeNode for the forward-\/declared type.}}
\DoxyCodeLine{18 \} \mbox{\hyperlink{structTreeEdge}{TreeEdge}};}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{comment}{// Function declarations that use TreeEdge.}}
\DoxyCodeLine{21 DeclareToString(\mbox{\hyperlink{structTreeEdge}{TreeEdge}});}
\DoxyCodeLine{22 DeclareEquals(\mbox{\hyperlink{structTreeEdge}{TreeEdge}});}
\DoxyCodeLine{23 }
\DoxyCodeLine{24 DeclareVector(\mbox{\hyperlink{structTreeEdge}{TreeEdge}});}
\DoxyCodeLine{25 DeclareVectorDeriveEquals(\mbox{\hyperlink{structTreeEdge}{TreeEdge}});}
\DoxyCodeLine{26 DeclareVectorDeriveToString(\mbox{\hyperlink{structTreeEdge}{TreeEdge}});}
\DoxyCodeLine{27 DeclareVectorDeriveRemove(\mbox{\hyperlink{structTreeEdge}{TreeEdge}});}
\DoxyCodeLine{28 }
\DoxyCodeLine{29 \textcolor{comment}{// Now fully define TreeNode, after TreeEdge has been defined.}}
\DoxyCodeLine{30 \textcolor{keyword}{struct }\mbox{\hyperlink{structTreeNode}{TreeNode}} \{}
\DoxyCodeLine{31     \textcolor{keywordtype}{size\_t} id;}
\DoxyCodeLine{32     TreeEdgeVector children; \textcolor{comment}{// Assuming TreeEdgeVector is defined by DefVector macro.}}
\DoxyCodeLine{33 \};}
\DoxyCodeLine{34 }
\DoxyCodeLine{35 \mbox{\hyperlink{structTreeNode}{TreeNode}} TreeNode\_with\_id(\textcolor{keywordtype}{size\_t} \textcolor{keywordtype}{id});}
\DoxyCodeLine{36 \textcolor{keywordtype}{void} TreeNode\_push\_child(\mbox{\hyperlink{structTreeNode}{TreeNode}}* node, \mbox{\hyperlink{structTreeEdge}{TreeEdge}} child);}
\DoxyCodeLine{37 \mbox{\hyperlink{structTreeNode}{TreeNode}} exploration\_tree\_from\_stream(\mbox{\hyperlink{structStream}{Stream}}* stream);}
\DoxyCodeLine{38 }
\DoxyCodeLine{39 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{40     LinkId link;}
\DoxyCodeLine{41     \textcolor{keywordtype}{size\_t} time;}
\DoxyCodeLine{42     \textcolor{keywordtype}{size\_t} needs\_to\_arrive\_before;}
\DoxyCodeLine{43 \} \mbox{\hyperlink{structWalkStep}{WalkStep}};}
\DoxyCodeLine{44 }
\DoxyCodeLine{45 DeclareToString(\mbox{\hyperlink{structWalkStep}{WalkStep}});}
\DoxyCodeLine{46 DeclareEquals(\mbox{\hyperlink{structWalkStep}{WalkStep}});}
\DoxyCodeLine{47 }
\DoxyCodeLine{48 DeclareVector(\mbox{\hyperlink{structWalkStep}{WalkStep}});}
\DoxyCodeLine{49 DeclareVectorDeriveEquals(\mbox{\hyperlink{structWalkStep}{WalkStep}});}
\DoxyCodeLine{50 DeclareVectorDeriveToString(\mbox{\hyperlink{structWalkStep}{WalkStep}});}
\DoxyCodeLine{51 DeclareVectorDeriveRemove(\mbox{\hyperlink{structWalkStep}{WalkStep}});}
\DoxyCodeLine{52 }
\DoxyCodeLine{53 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{54     NodeId start;}
\DoxyCodeLine{55     NodeId end;}
\DoxyCodeLine{56     \mbox{\hyperlink{structInterval}{Interval}} optimality;}
\DoxyCodeLine{57     \mbox{\hyperlink{structStream}{Stream}}* stream;}
\DoxyCodeLine{58     WalkStepVector steps;}
\DoxyCodeLine{59 \} \mbox{\hyperlink{structWalk}{Walk}};}
\DoxyCodeLine{60 }
\DoxyCodeLine{61 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{62     \textcolor{keyword}{union }\{}
\DoxyCodeLine{63         \mbox{\hyperlink{structInterval}{Interval}} node\_not\_present\_between;}
\DoxyCodeLine{64         TimeId impossible\_to\_reach\_after;}
\DoxyCodeLine{65     \} reason;}
\DoxyCodeLine{66     \textcolor{keyword}{enum} \{}
\DoxyCodeLine{67         NODE\_DOESNT\_EXIST,}
\DoxyCodeLine{68         IMPOSSIBLE\_TO\_REACH}
\DoxyCodeLine{69     \} type;}
\DoxyCodeLine{70 \} \mbox{\hyperlink{structNoWalkReason}{NoWalkReason}};}
\DoxyCodeLine{71 }
\DoxyCodeLine{72 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{73     \textcolor{keyword}{union }\{}
\DoxyCodeLine{74         \mbox{\hyperlink{structWalk}{Walk}} walk;}
\DoxyCodeLine{75         \mbox{\hyperlink{structNoWalkReason}{NoWalkReason}} no\_walk\_reason;}
\DoxyCodeLine{76     \} result;}
\DoxyCodeLine{77     \textcolor{keyword}{enum} \{}
\DoxyCodeLine{78         WALK,}
\DoxyCodeLine{79         NO\_WALK}
\DoxyCodeLine{80     \} type;}
\DoxyCodeLine{81 \} \mbox{\hyperlink{structWalkInfo}{WalkInfo}};}
\DoxyCodeLine{82 }
\DoxyCodeLine{83 \mbox{\hyperlink{structWalkInfo}{WalkInfo}} Stream\_shortest\_walk\_from\_to\_at(\mbox{\hyperlink{structStream}{Stream}}* stream, NodeId from, NodeId to, TimeId at);}
\DoxyCodeLine{84 \mbox{\hyperlink{structWalkInfo}{WalkInfo}} Stream\_fastest\_shortest\_walk(\mbox{\hyperlink{structStream}{Stream}}* stream, NodeId from, NodeId to, TimeId at);}
\DoxyCodeLine{85 DeclareToString(\mbox{\hyperlink{structWalk}{Walk}});}
\DoxyCodeLine{86 DeclareEquals(\mbox{\hyperlink{structWalk}{Walk}});}
\DoxyCodeLine{87 DeclareToString(\mbox{\hyperlink{structWalkInfo}{WalkInfo}});}
\DoxyCodeLine{88 DeclareEquals(\mbox{\hyperlink{structWalkInfo}{WalkInfo}});}
\DoxyCodeLine{89 \textcolor{keywordtype}{void} Walk\_destroy(\mbox{\hyperlink{structWalk}{Walk}} walk);}
\DoxyCodeLine{90 \textcolor{keywordtype}{void} WalkInfo\_destroy(\mbox{\hyperlink{structWalkInfo}{WalkInfo}} wi);}
\DoxyCodeLine{91 DeclareVector(\mbox{\hyperlink{structWalkInfo}{WalkInfo}});}
\DoxyCodeLine{92 DeclareVectorDeriveEquals(\mbox{\hyperlink{structWalkInfo}{WalkInfo}});}
\DoxyCodeLine{93 DeclareVectorDeriveToString(\mbox{\hyperlink{structWalkInfo}{WalkInfo}});}
\DoxyCodeLine{94 DeclareVectorDeriveRemove(\mbox{\hyperlink{structWalkInfo}{WalkInfo}});}
\DoxyCodeLine{95 }
\DoxyCodeLine{96 WalkInfoVector optimal\_walks\_between\_two\_nodes(\mbox{\hyperlink{structStream}{Stream}}* stream, NodeId from, NodeId to,}
\DoxyCodeLine{97                                                \mbox{\hyperlink{structWalkInfo}{WalkInfo}} (*fn)(\mbox{\hyperlink{structStream}{Stream}}*, NodeId, NodeId, TimeId));}
\DoxyCodeLine{98 \mbox{\hyperlink{structWalkInfo}{WalkInfo}} Stream\_fastest\_walk(\mbox{\hyperlink{structStream}{Stream}}* stream, NodeId from, NodeId to, TimeId at);}
\DoxyCodeLine{99 }
\DoxyCodeLine{100 \textcolor{keywordtype}{size\_t} Walk\_length(\mbox{\hyperlink{structWalk}{Walk}}* walk);}
\DoxyCodeLine{101 \textcolor{keywordtype}{size\_t} Walk\_duration(\mbox{\hyperlink{structWalk}{Walk}}* walk);}
\DoxyCodeLine{102 }
\DoxyCodeLine{103 \textcolor{keywordtype}{double} Stream\_robustness\_by\_length(\mbox{\hyperlink{structStream}{Stream}}* stream);}
\DoxyCodeLine{104 }
\DoxyCodeLine{105 \textcolor{keywordtype}{bool} Walk\_goes\_through(\mbox{\hyperlink{structWalk}{Walk}}* walk, \mbox{\hyperlink{structStream}{Stream}} stream, \textcolor{keywordtype}{size\_t} nb\_steps, ...);}
\DoxyCodeLine{106 }
\DoxyCodeLine{107 \mbox{\hyperlink{structWalk}{Walk}} WalkInfo\_unwrap\_checked(\mbox{\hyperlink{structWalkInfo}{WalkInfo}} info);}
\DoxyCodeLine{108 \mbox{\hyperlink{structWalk}{Walk}} WalkInfo\_unwrap\_unchecked(\mbox{\hyperlink{structWalkInfo}{WalkInfo}} info);}
\DoxyCodeLine{109 }
\DoxyCodeLine{110 TimeId Walk\_arrives\_at(\mbox{\hyperlink{structWalk}{Walk}}* walk);}
\DoxyCodeLine{111 }
\DoxyCodeLine{112 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// WALK\_H}}

\end{DoxyCode}
